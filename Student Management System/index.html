<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    #navbar{
        border: 2px solid black;
        width: 100%;
        height: 100px;
    }

    #form_div{
        border: 2px solid red;
        width: 100%;
        height: auto;
    }
</style>
<body>
    <div id="navbar"></div>



    <div>
        <a href="./dashboard.html">Dashboard</a>
    </div>

    <div id="form_div" onsubmit="Managementform()">
    <form id="myform">
        <input type="text" id="name" placeholder="Enter Name"><br>
        <input type="text" id="course" placeholder="Course Name"><br>
        <input type="number" id="unit" placeholder="Unit"><br>
        <input type="url" id="image" placeholder="Url"><br>
        <input type="text" id="batch" placeholder="Batch Name"><br>
        <input type="submit">

    </form>
    </div>

  <div id="dashboard"></div>

    
</body>
</html>

<script>
    function Stud(n,c,u,i,b){
        this.name=n;
        this.course=c;
        this.unit=u;
        this.image=i;
        this.batch=b
    }

let form_arr= JSON.parse(localStorage.getItem("Students")) || []

    function Managementform(){
         event.preventDefault()

         let form = document.getElementById('form_div')
         let name= document.getElementById('name').value;
         let course= document.getElementById('course').value;
         let unit = document.getElementById('unit').value;
         let image = document.getElementById('image').value;
         let batch = document.getElementById('batch').value;

         //console.log(name,form,course,unit,image,batch)


        //  let obj= {"name":name,
        //            "course":course,
        //            "unit":unit,
        //            "image":image,
        //            "batch":batch}
               
             //console.log("obj",obj) 
             let s1= new Stud(name,course,unit,image,batch)  
             
       form_arr.push(s1)  
       //console.log("form_arr",form_arr)
       
       localStorage.setItem("Students",JSON.stringify(form_arr))

    }

    //for dashboard -- 1. take out the data from localstorage
                   //  2.  for no of batches take for loop
                   //3. Now we have to find how many students are enrolled in a particular batch

    function calculate(){

        let data= JSON.parse(localStorage.getItem("Students"))

        let data_obj = {}

        for(let i=0;i<data.length;i++){
            if(!data_obj[data[i].batch] ){

                data_obj[data[i].batch] = 0
            }
            console.log("data_obj",data_obj)

            // obj{web13:0 , web14:0, web15:0}
        
        }


        for(let j=0;j<data.length;j++){
            data_obj[data[j].batch]++
        }
 

    }

    calculate()


    



  
   


  

</script>